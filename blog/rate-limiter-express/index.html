<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/my-blog/_next/static/css/83cc0ea6f102b864.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/my-blog/_next/static/css/a494df4e6249897d.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/my-blog/_next/static/chunks/webpack-e4b2ba0bd574cac0.js" crossorigin=""/><script src="/my-blog/_next/static/chunks/fd9d1056-8eeb8092ef3d3dd5.js" async="" crossorigin=""></script><script src="/my-blog/_next/static/chunks/938-84fed2705efa299b.js" async="" crossorigin=""></script><script src="/my-blog/_next/static/chunks/main-app-f4d94776ad940ad5.js" async="" crossorigin=""></script><script src="/my-blog/_next/static/chunks/250-f66e98452b80d3d3.js" async=""></script><script src="/my-blog/_next/static/chunks/app/layout-eeb53c07ffb10a3f.js" async=""></script><script src="/my-blog/_next/static/chunks/644-4de71cea8aeaed79.js" async=""></script><script src="/my-blog/_next/static/chunks/852-215445fe88778aae.js" async=""></script><script src="/my-blog/_next/static/chunks/app/blog/%5Bslug%5D/page-25aa70c728425bca.js" async=""></script><link rel="icon" href="/favicon.ico"/><title>Blog</title><meta name="description" content="A personal blog connected with Notion"/><link rel="icon" href="/my-blog/favicon.ico" type="image/x-icon" sizes="16x16"/><script src="/my-blog/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="bg-black text-white min-h-screen flex flex-col"><div class="flex flex-col min-h-screen"><header class="navbar"><div class="navbar-container"><a class="navbar-logo" href="/my-blog/">Cami&#x27;s Blog</a><nav class="navbar-nav hidden md:flex"><a class="navbar-link" href="/my-blog/">Home</a><a class="navbar-link" href="/my-blog/blog/">Blog</a><a class="navbar-link" href="https://arcilac.github.io/portfolio/">Contact</a></nav><div class="flex items-center gap-4"></div></div></header><div class="flex-grow"><main class="post-container"><article class="post-article"><h1 class="post-title"> What Is a Rate Limiter and How to Implement One with Express</h1><div class="post-content"><div class="notion-content" style="color:var(--foreground)"><p style="margin-bottom:1rem;line-height:1.7">In today’s world of public APIs and high-traffic web services, protecting your application from abuse and overload is essential. Rate limiting is one of the most effective strategies to control how often clients can hit your endpoints.</p><hr style="border:none;height:1px;background-color:var(--border);margin:2rem 0"/><h2 style="font-size:1.5rem;font-weight:bold;margin-top:2rem;margin-bottom:0.75rem;padding-bottom:0.25rem">What Is a Rate Limiter?</h2><p style="margin-bottom:1rem;line-height:1.7">A <strong>rate limiter</strong> restricts the number of requests a user or client can make to a server within a specific time window. For example, you might allow a user to make 100 requests per 15 minutes. Once they reach that limit, additional requests will be blocked or delayed.</p><hr style="border:none;height:1px;background-color:var(--border);margin:2rem 0"/><h2 style="font-size:1.5rem;font-weight:bold;margin-top:2rem;margin-bottom:0.75rem;padding-bottom:0.25rem">Why Is Rate Limiting Important?</h2><ol style="padding-left:1.5rem;margin-bottom:1.5rem;list-style-type:decimal"><li style="margin-bottom:0.5rem"><strong>Security</strong> – Prevent brute-force attacks and abusive behaviors.</li><li style="margin-bottom:0.5rem"><strong>Stability</strong> – Avoid server overload due to excessive traffic.</li><li style="margin-bottom:0.5rem"><strong>Fairness</strong> – Ensure equal usage for all users.</li><li style="margin-bottom:0.5rem"><strong>Cost Control</strong> – Limit access to expensive operations or external APIs.</li></ol><hr style="border:none;height:1px;background-color:var(--border);margin:2rem 0"/><h2 style="font-size:1.5rem;font-weight:bold;margin-top:2rem;margin-bottom:0.75rem;padding-bottom:0.25rem">Implementing a Rate Limiter in Express</h2><p style="margin-bottom:1rem;line-height:1.7">The easiest way to implement rate limiting in Express is using the <code class="inline-code">express-rate-limit</code> middleware.</p><h3 style="font-size:1.25rem;font-weight:bold;margin-top:1.5rem;margin-bottom:0.75rem">1. Install the Package</h3><div style="margin-bottom:1.5rem;margin-top:1.5rem"><pre style="color:#d4d4d4;font-size:0.9rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem;background-color:#1E1E1E"><code class="language-typescript" style="white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>npm install express</span><span class="token" style="color:#d4d4d4">-</span><span>rate</span><span class="token" style="color:#d4d4d4">-</span><span>limit
</span>
</code></pre></div><h3 style="font-size:1.25rem;font-weight:bold;margin-top:1.5rem;margin-bottom:0.75rem">2. Basic Usage Example</h3><div style="margin-bottom:1.5rem;margin-top:1.5rem"><pre style="color:#d4d4d4;font-size:0.9rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem;background-color:#1E1E1E"><code class="language-typescript" style="white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#569CD6">const</span><span> express </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#569CD6">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;express&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> rateLimit </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#569CD6">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;express-rate-limit&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#569CD6">const</span><span> app </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">express</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// Create a limiter: 100 requests per 15 minutes per IP</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> limiter </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">rateLimit</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  windowMs</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#b5cea8">15</span><span> </span><span class="token" style="color:#d4d4d4">*</span><span> </span><span class="token" style="color:#b5cea8">60</span><span> </span><span class="token" style="color:#d4d4d4">*</span><span> </span><span class="token" style="color:#b5cea8">1000</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#6a9955">// 15 minutes</span><span>
</span><span>  max</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#b5cea8">100</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#6a9955">// Limit each IP to 100 requests per windowMs</span><span>
</span><span>  message</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;Too many requests from this IP, please try again later.&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// Apply the limiter to all requests</span><span>
</span><span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">use</span><span class="token" style="color:#d4d4d4">(</span><span>limiter</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">get</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">,</span><span> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">send</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;Hello, world!&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">listen</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#b5cea8">3000</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#4ec9b0">console</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">log</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;Server running on http://localhost:3000&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></code></pre></div><p style="margin-bottom:1rem;line-height:1.7">This configuration limits every IP address to 100 requests per 15-minute window. If a user exceeds that limit, they will receive a <code class="inline-code">429 Too Many Requests</code> response.</p><hr style="border:none;height:1px;background-color:var(--border);margin:2rem 0"/><h2 style="font-size:1.5rem;font-weight:bold;margin-top:2rem;margin-bottom:0.75rem;padding-bottom:0.25rem">Applying the Limiter to Specific Routes</h2><p style="margin-bottom:1rem;line-height:1.7">You don’t have to apply rate limiting globally. You can also restrict it to specific routes:</p><div style="margin-bottom:1.5rem;margin-top:1.5rem"><pre style="color:#d4d4d4;font-size:0.9rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem;background-color:#1E1E1E"><code class="language-typescript" style="white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#569CD6">const</span><span> authLimiter </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">rateLimit</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  windowMs</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#b5cea8">5</span><span> </span><span class="token" style="color:#d4d4d4">*</span><span> </span><span class="token" style="color:#b5cea8">60</span><span> </span><span class="token" style="color:#d4d4d4">*</span><span> </span><span class="token" style="color:#b5cea8">1000</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#6a9955">// 5 minutes</span><span>
</span><span>  max</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#b5cea8">5</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#6a9955">// Limit to 5 requests per window</span><span>
</span><span>  message</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;Too many login attempts. Try again in 5 minutes.&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">post</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/login&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> authLimiter</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">,</span><span> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#6a9955">// login logic</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
</code></pre></div><p style="margin-bottom:1rem;line-height:1.7">This is especially useful for sensitive routes like <code class="inline-code">/login</code> or <code class="inline-code">/signup</code>.</p><hr style="border:none;height:1px;background-color:var(--border);margin:2rem 0"/><h2 style="font-size:1.5rem;font-weight:bold;margin-top:2rem;margin-bottom:0.75rem;padding-bottom:0.25rem">Advanced Options</h2><p style="margin-bottom:1rem;line-height:1.7">You can customize rate limiting even further with options like:</p><ul style="padding-left:1.5rem;margin-bottom:1.5rem;list-style-type:disc"><li style="margin-bottom:0.5rem"><code class="inline-code">keyGenerator</code>: Define how clients are identified (e.g., by IP, user ID, or token).</li><li style="margin-bottom:0.5rem"><code class="inline-code">skip</code>: Conditionally skip certain requests (e.g., internal users).</li><li style="margin-bottom:0.5rem"><code class="inline-code">handler</code>: Customize the error response when the limit is hit.</li></ul><p style="margin-bottom:1rem;line-height:1.7">Example:</p><div style="margin-bottom:1.5rem;margin-top:1.5rem"><pre style="color:#d4d4d4;font-size:0.9rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem;background-color:#1E1E1E"><code class="language-typescript" style="white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#569CD6">const</span><span> limiter </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#dcdcaa">rateLimit</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  windowMs</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#b5cea8">10</span><span> </span><span class="token" style="color:#d4d4d4">*</span><span> </span><span class="token" style="color:#b5cea8">60</span><span> </span><span class="token" style="color:#d4d4d4">*</span><span> </span><span class="token" style="color:#b5cea8">1000</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  max</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#b5cea8">50</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token function-variable" style="color:#dcdcaa">keyGenerator</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">headers</span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#ce9178">&#x27;x-api-key&#x27;</span><span class="token" style="color:#d4d4d4">]</span><span> </span><span class="token" style="color:#d4d4d4">||</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">ip</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token function-variable" style="color:#dcdcaa">skip</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">user</span><span class="token" style="color:#d4d4d4">?.</span><span>isAdmin</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token function-variable" style="color:#dcdcaa">handler</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">,</span><span> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">status</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#b5cea8">429</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">json</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> error</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;Rate limit exceeded. Slow down!&#x27;</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></code></pre></div><hr style="border:none;height:1px;background-color:var(--border);margin:2rem 0"/><h2 style="font-size:1.5rem;font-weight:bold;margin-top:2rem;margin-bottom:0.75rem;padding-bottom:0.25rem">Tips for Using Rate Limiting</h2><ul style="padding-left:1.5rem;margin-bottom:1.5rem;list-style-type:disc"><li style="margin-bottom:0.5rem">Combine with authentication to create per-user limits instead of per-IP.</li><li style="margin-bottom:0.5rem">Use Redis or an external store in production for distributed environments.</li><li style="margin-bottom:0.5rem">Log when limits are hit to detect abuse patterns.</li><li style="margin-bottom:0.5rem">Be mindful of mobile networks and proxies that might share IP addresses.</li></ul><hr style="border:none;height:1px;background-color:var(--border);margin:2rem 0"/><h2 style="font-size:1.5rem;font-weight:bold;margin-top:2rem;margin-bottom:0.75rem;padding-bottom:0.25rem">Conclusion</h2><p style="margin-bottom:1rem;line-height:1.7">Rate limiting is a crucial part of building secure and resilient APIs. With tools like <code class="inline-code">express-rate-limit</code>, implementing it in Express is simple and highly configurable. Whether you want to protect login routes, reduce API abuse, or improve server stability, rate limiting should be part of your backend toolkit.</p></div></div><div class="post-meta"><div class="post-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar h-4 w-4"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" x2="16" y1="2" y2="6"></line><line x1="8" x2="8" y1="2" y2="6"></line><line x1="3" x2="21" y1="10" y2="10"></line></svg><span>May 13, 2025</span></div><div class="post-tags"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-4 w-4"><path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"></path><path d="M7 7h.01"></path></svg><div class="flex gap-2"><span class="post-tag">#<!-- -->express</span><span class="post-tag">#<!-- -->Node.js</span><span class="post-tag">#<!-- -->security</span></div></div></div></article></main></div><footer class="footer"><div class="footer-container"><div class="footer-content md:flex-row"><div class="footer-brand md:text-left"><a class="footer-logo" href="/my-blog/">Cami&#x27;s Blog</a><p class="footer-tagline">Personal thoughts and explorations</p></div><div class="social-links"><a href="https://github.com/Arcilac" target="_blank" rel="noopener noreferrer" class="social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-5 w-5"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg><span class="sr-only">GitHub</span></a><a href="https://www.linkedin.com/in/camila-arcila-b28347279/" target="_blank" rel="noopener noreferrer" class="social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-linkedin h-5 w-5"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg><span class="sr-only">LinkedIn</span></a><a href="mailto:arcilacamila08@gmail.com" class="social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail h-5 w-5"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg><span class="sr-only">Email</span></a></div></div><div class="footer-bottom"><p> <!-- -->Made with <span class="text-red-500">❤</span> by Camila Arcila</p></div></div></footer></div><script src="/my-blog/_next/static/chunks/webpack-e4b2ba0bd574cac0.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/my-blog/_next/static/css/83cc0ea6f102b864.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/my-blog/_next/static/css/a494df4e6249897d.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"4:I[47690,[],\"\"]\n7:I[5613,[],\"\"]\n9:I[31778,[],\"\"]\na:I[70269,[\"250\",\"static/chunks/250-f66e98452b80d3d3.js\",\"185\",\"static/chunks/app/layout-eeb53c07ffb10a3f.js\"],\"ThemeProvider\"]\nb:I[63186,[\"250\",\"static/chunks/250-f66e98452b80d3d3.js\",\"185\",\"static/chunks/app/layout-eeb53c07ffb10a3f.js\"],\"\"]\nc:I[69148,[\"250\",\"static/chunks/250-f66e98452b80d3d3.js\",\"185\",\"static/chunks/app/layout-eeb53c07ffb10a3f.js\"],\"\"]\ne:I[48955,[],\"\"]\n8:[\"slug\",\"rate-limiter-express\",\"d\"]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/my-blog/_next/static/css/83cc0ea6f102b864.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"D4et-7O34i5WHyd9C23RX\",\"assetPrefix\":\"/my-blog\",\"initialCanonicalUrl\":\"/blog/rate-limiter-express/\",\"initialTree\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"rate-limiter-express\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"rate-limiter-express\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"rate-limiter-express\",\"d\"],{\"children\":[\"__PAGE__\",{},[\"$L5\",\"$L6\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/my-blog/_next/static/css/a494df4e6249897d.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}]]}],[\"$\",\"body\",null,{\"className\":\"bg-black text-white min-h-screen flex flex-col\",\"children\":[\"$\",\"$La\",null,{\"defaultTheme\":\"dark\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col min-h-screen\",\"children\":[[\"$\",\"$Lb\",null,{}],[\"$\",\"div\",null,{\"className\":\"flex-grow\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}],[\"$\",\"$Lc\",null,{}]]}]}]}]]}],null]],\"initialHead\":[false,\"$Ld\"],\"globalErrorComponent\":\"$e\"}]]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Blog\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"A personal blog connected with Notion\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/my-blog/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]]\n5:null\n"])</script><script>self.__next_f.push([1,"f:I[74366,[\"644\",\"static/chunks/644-4de71cea8aeaed79.js\",\"852\",\"static/chunks/852-215445fe88778aae.js\",\"308\",\"static/chunks/app/blog/%5Bslug%5D/page-25aa70c728425bca.js\"],\"NotionRenderer\"]\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"main\",null,{\"className\":\"post-container\",\"children\":[\"$\",\"article\",null,{\"className\":\"post-article\",\"children\":[null,[\"$\",\"h1\",null,{\"className\":\"post-title\",\"children\":\" What Is a Rate Limiter and How to Implement One with Express\"}],[\"$\",\"div\",null,{\"className\":\"post-content\",\"children\":[\"$\",\"$Lf\",null,{\"blocks\":[{\"id\":\"block-0\",\"type\":\"paragraph\",\"content\":\"In today’s world of public APIs and high-traffic web services, protecting your application from abuse and overload is essential. Rate limiting is one of the most effective strategies to control how often clients can hit your endpoints.\",\"properties\":{}},{\"id\":\"block-1\",\"type\":\"divider\",\"content\":\"---\",\"properties\":{}},{\"id\":\"block-2\",\"type\":\"heading_2\",\"content\":\"What Is a Rate Limiter?\",\"properties\":{}},{\"id\":\"block-3\",\"type\":\"paragraph\",\"content\":\"A **rate limiter** restricts the number of requests a user or client can make to a server within a specific time window. For example, you might allow a user to make 100 requests per 15 minutes. Once they reach that limit, additional requests will be blocked or delayed.\",\"properties\":{}},{\"id\":\"block-4\",\"type\":\"divider\",\"content\":\"---\",\"properties\":{}},{\"id\":\"block-5\",\"type\":\"heading_2\",\"content\":\"Why Is Rate Limiting Important?\",\"properties\":{}},{\"id\":\"block-6\",\"type\":\"numbered_list_item\",\"content\":\"1. **Security** – Prevent brute-force attacks and abusive behaviors.\",\"properties\":{}},{\"id\":\"block-7\",\"type\":\"numbered_list_item\",\"content\":\"2. **Stability** – Avoid server overload due to excessive traffic.\",\"properties\":{}},{\"id\":\"block-8\",\"type\":\"numbered_list_item\",\"content\":\"3. **Fairness** – Ensure equal usage for all users.\",\"properties\":{}},{\"id\":\"block-9\",\"type\":\"numbered_list_item\",\"content\":\"4. **Cost Control** – Limit access to expensive operations or external APIs.\",\"properties\":{}},{\"id\":\"block-10\",\"type\":\"divider\",\"content\":\"---\",\"properties\":{}},{\"id\":\"block-11\",\"type\":\"heading_2\",\"content\":\"Implementing a Rate Limiter in Express\",\"properties\":{}},{\"id\":\"block-12\",\"type\":\"paragraph\",\"content\":\"The easiest way to implement rate limiting in Express is using the `express-rate-limit` middleware.\",\"properties\":{}},{\"id\":\"block-13\",\"type\":\"heading_3\",\"content\":\"1. Install the Package\",\"properties\":{}},{\"id\":\"block-14\",\"type\":\"code\",\"content\":\"```shell\\n`\\nnpm install express-rate-limit\\n\\n`\\n```\",\"properties\":{\"language\":\"$undefined\"}},{\"id\":\"block-15\",\"type\":\"heading_3\",\"content\":\"2. Basic Usage Example\",\"properties\":{}},{\"id\":\"block-16\",\"type\":\"code\",\"content\":\"```javascript\\n`\\nconst express = require('express');\\nconst rateLimit = require('express-rate-limit');\\n\\nconst app = express();\\n\\n// Create a limiter: 100 requests per 15 minutes per IP\\nconst limiter = rateLimit({\\n  windowMs: 15 * 60 * 1000, // 15 minutes\\n  max: 100, // Limit each IP to 100 requests per windowMs\\n  message: 'Too many requests from this IP, please try again later.',\\n});\\n\\n// Apply the limiter to all requests\\napp.use(limiter);\\n\\napp.get('/', (req, res) =\u003e {\\n  res.send('Hello, world!');\\n});\\n\\napp.listen(3000, () =\u003e {\\n  console.log('Server running on http://localhost:3000');\\n});\\n`\\n```\",\"properties\":{\"language\":\"$undefined\"}},{\"id\":\"block-17\",\"type\":\"paragraph\",\"content\":\"This configuration limits every IP address to 100 requests per 15-minute window. If a user exceeds that limit, they will receive a `429 Too Many Requests` response.\",\"properties\":{}},{\"id\":\"block-18\",\"type\":\"divider\",\"content\":\"---\",\"properties\":{}},{\"id\":\"block-19\",\"type\":\"heading_2\",\"content\":\"Applying the Limiter to Specific Routes\",\"properties\":{}},{\"id\":\"block-20\",\"type\":\"paragraph\",\"content\":\"You don’t have to apply rate limiting globally. You can also restrict it to specific routes:\",\"properties\":{}},{\"id\":\"block-21\",\"type\":\"code\",\"content\":\"```javascript\\nconst authLimiter = rateLimit({\\n  windowMs: 5 * 60 * 1000, // 5 minutes\\n  max: 5, // Limit to 5 requests per window\\n  message: 'Too many login attempts. Try again in 5 minutes.',\\n});\\n\\napp.post('/login', authLimiter, (req, res) =\u003e {\\n  // login logic\\n});\\n\\n`\\n```\",\"properties\":{\"language\":\"$undefined\"}},{\"id\":\"block-22\",\"type\":\"paragraph\",\"content\":\"This is especially useful for sensitive routes like `/login` or `/signup`.\",\"properties\":{}},{\"id\":\"block-23\",\"type\":\"divider\",\"content\":\"---\",\"properties\":{}},{\"id\":\"block-24\",\"type\":\"heading_2\",\"content\":\"Advanced Options\",\"properties\":{}},{\"id\":\"block-25\",\"type\":\"paragraph\",\"content\":\"You can customize rate limiting even further with options like:\",\"properties\":{}},{\"id\":\"block-26\",\"type\":\"bulleted_list_item\",\"content\":\"- `keyGenerator`: Define how clients are identified (e.g., by IP, user ID, or token).\",\"properties\":{}},{\"id\":\"block-27\",\"type\":\"bulleted_list_item\",\"content\":\"- `skip`: Conditionally skip certain requests (e.g., internal users).\",\"properties\":{}},{\"id\":\"block-28\",\"type\":\"bulleted_list_item\",\"content\":\"- `handler`: Customize the error response when the limit is hit.\",\"properties\":{}},{\"id\":\"block-29\",\"type\":\"paragraph\",\"content\":\"Example:\",\"properties\":{}},{\"id\":\"block-30\",\"type\":\"code\",\"content\":\"```javascript\\n`\\nconst limiter = rateLimit({\\n  windowMs: 10 * 60 * 1000,\\n  max: 50,\\n  keyGenerator: (req) =\u003e req.headers['x-api-key'] || req.ip,\\n  skip: (req) =\u003e req.user?.isAdmin,\\n  handler: (req, res) =\u003e {\\n    res.status(429).json({ error: 'Rate limit exceeded. Slow down!' });\\n  },\\n});\\n`\\n```\",\"properties\":{\"language\":\"$undefined\"}},{\"id\":\"block-31\",\"type\":\"divider\",\"content\":\"---\",\"properties\":{}},{\"id\":\"block-32\",\"type\":\"heading_2\",\"content\":\"Tips for Using Rate Limiting\",\"properties\":{}},{\"id\":\"block-33\",\"type\":\"bulleted_list_item\",\"content\":\"- Combine with authentication to create per-user limits instead of per-IP.\",\"properties\":{}},{\"id\":\"block-34\",\"type\":\"bulleted_list_item\",\"content\":\"- Use Redis or an external store in production for distributed environments.\",\"properties\":{}},{\"id\":\"block-35\",\"type\":\"bulleted_list_item\",\"content\":\"- Log when limits are hit to detect abuse patterns.\",\"properties\":{}},{\"id\":\"block-36\",\"type\":\"bulleted_list_item\",\"content\":\"- Be mindful of mobile networks and proxies that might share IP addresses.\",\"properties\":{}},{\"id\":\"block-37\",\"type\":\"divider\",\"content\":\"---\",\"properties\":{}},{\"id\":\"block-38\",\"type\":\"heading_2\",\"content\":\"Conclusion\",\"properties\":{}},{\"id\":\"block-39\",\"type\":\"paragraph\",\"content\":\"Rate limiting is a crucial part of building secure and resilient APIs. With tools like `express-rate-limit`, implementing it in Express is simple and highly configurable. Whether you want to protect login routes, reduce API abuse, or improve server stability, rate limiting should be part of your backend toolkit.\",\"properties\":{}}]}]}],[\"$\",\"div\",null,{\"className\":\"post-meta\",\"children\":[[\"$\",\"div\",null,{\"className\":\"post-date\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-calendar h-4 w-4\",\"children\":[[\"$\",\"rect\",\"eu3xkr\",{\"width\":\"18\",\"height\":\"18\",\"x\":\"3\",\"y\":\"4\",\"rx\":\"2\",\"ry\":\"2\"}],[\"$\",\"line\",\"m3sa8f\",{\"x1\":\"16\",\"x2\":\"16\",\"y1\":\"2\",\"y2\":\"6\"}],[\"$\",\"line\",\"18kwsl\",{\"x1\":\"8\",\"x2\":\"8\",\"y1\":\"2\",\"y2\":\"6\"}],[\"$\",\"line\",\"xt86sb\",{\"x1\":\"3\",\"x2\":\"21\",\"y1\":\"10\",\"y2\":\"10\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"May 13, 2025\"}]]}],[\"$\",\"div\",null,{\"className\":\"post-tags\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-4 w-4\",\"children\":[[\"$\",\"path\",\"14b2ls\",{\"d\":\"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z\"}],[\"$\",\"path\",\"7u93v4\",{\"d\":\"M7 7h.01\"}],\"$undefined\"]}],[\"$\",\"div\",null,{\"className\":\"flex gap-2\",\"children\":[[\"$\",\"span\",\"express\",{\"className\":\"post-tag\",\"children\":[\"#\",\"express\"]}],[\"$\",\"span\",\"Node.js\",{\"className\":\"post-tag\",\"children\":[\"#\",\"Node.js\"]}],[\"$\",\"span\",\"security\",{\"className\":\"post-tag\",\"children\":[\"#\",\"security\"]}]]}]]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,""])</script></body></html>