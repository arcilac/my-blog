<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/my-blog/_next/static/css/83cc0ea6f102b864.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/my-blog/_next/static/css/a494df4e6249897d.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/my-blog/_next/static/chunks/webpack-e4b2ba0bd574cac0.js" crossorigin=""/><script src="/my-blog/_next/static/chunks/fd9d1056-8eeb8092ef3d3dd5.js" async="" crossorigin=""></script><script src="/my-blog/_next/static/chunks/938-84fed2705efa299b.js" async="" crossorigin=""></script><script src="/my-blog/_next/static/chunks/main-app-f4d94776ad940ad5.js" async="" crossorigin=""></script><script src="/my-blog/_next/static/chunks/250-f66e98452b80d3d3.js" async=""></script><script src="/my-blog/_next/static/chunks/app/layout-eeb53c07ffb10a3f.js" async=""></script><script src="/my-blog/_next/static/chunks/644-4de71cea8aeaed79.js" async=""></script><script src="/my-blog/_next/static/chunks/852-215445fe88778aae.js" async=""></script><script src="/my-blog/_next/static/chunks/app/blog/%5Bslug%5D/page-fab3f594c1476cf4.js" async=""></script><link rel="icon" href="/favicon.ico"/><title>Blog</title><meta name="description" content="A personal blog connected with Notion"/><link rel="icon" href="/my-blog/favicon.ico" type="image/x-icon" sizes="16x16"/><script src="/my-blog/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="bg-black text-white min-h-screen flex flex-col"><div class="flex flex-col min-h-screen"><header class="navbar"><div class="navbar-container"><a class="navbar-logo" href="/my-blog/">Cami&#x27;s Blog</a><nav class="navbar-nav hidden md:flex"><a class="navbar-link" href="/my-blog/">Home</a><a class="navbar-link" href="/my-blog/blog/">Blog</a><a class="navbar-link" href="https://arcilac.github.io/portfolio/">Contact</a></nav><div class="flex items-center gap-4"></div></div></header><div class="flex-grow"><main class="post-container"><article class="post-article"><h1 class="post-title">Authentication Methods: JWT vs Sessions vs OAuth - Complete Guide</h1><div class="post-content"><div class="notion-content" style="color:var(--foreground)"><p style="margin-bottom:1rem;line-height:1.7">When building web applications, choosing the right authentication method is crucial for security and user experience. <strong>JWT</strong>, <strong>Sessions</strong>, and <strong>OAuth</strong> are three popular approaches‚Äîbut they solve different problems and work in different ways.</p><p style="margin-bottom:1rem;line-height:1.7">In this article, we'll explore what each method is, when to use them, and how they compare with practical examples.</p><h2 style="font-size:1.5rem;font-weight:bold;margin-top:2rem;margin-bottom:0.75rem;padding-bottom:0.25rem">üîê What Is Session-Based Authentication?</h2><p style="margin-bottom:1rem;line-height:1.7"><strong>Session-based authentication</strong> is the traditional approach where the server stores user information and creates a session after login.</p><p style="margin-bottom:1rem;line-height:1.7">How it works:</p><ul style="padding-left:1.5rem;margin-bottom:1.5rem;list-style-type:disc"><li style="margin-bottom:0.5rem">User logs in with credentials</li><li style="margin-bottom:0.5rem">Server creates a session and stores it (in memory, database, or cache)</li><li style="margin-bottom:0.5rem">Server sends a session ID to the client via cookies</li><li style="margin-bottom:0.5rem">Client sends the session ID with each request</li><li style="margin-bottom:0.5rem">Server validates the session ID and retrieves user data</li></ul><div style="margin-bottom:1.5rem;margin-top:1.5rem"><pre style="color:#d4d4d4;font-size:0.9rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem;background-color:#1E1E1E"><code class="language-typescript" style="white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6a9955">// Server-side session creation (Node.js/Express)</span><span>
</span><span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">post</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/login&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">,</span><span> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#569CD6">const</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span> username</span><span class="token" style="color:#d4d4d4">,</span><span> password </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">body</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">// Validate credentials</span><span>
</span><span>  </span><span class="token" style="color:#c586c0">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#dcdcaa">isValidUser</span><span class="token" style="color:#d4d4d4">(</span><span>username</span><span class="token" style="color:#d4d4d4">,</span><span> password</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">// Create session</span><span>
</span><span>    req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">session</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">userId</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> user</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">id</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">session</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">username</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> user</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">username</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>    res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">json</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> message</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;Login successful&#x27;</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// Protected route</span><span>
</span><span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">get</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/profile&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">,</span><span> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#c586c0">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">session</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">userId</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">json</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> user</span><span class="token" style="color:#d4d4d4">:</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">session</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">username</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#c586c0">else</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">status</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#b5cea8">401</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">json</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> error</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;Not authenticated&#x27;</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></code></pre></div><div style="margin-bottom:1.5rem;overflow-x:auto"><table style="width:100%;border-collapse:collapse"><tbody><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Pros</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Cons</td></tr><tr></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Simple to implement and understand</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Server must store session data (memory/storage overhead)</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Server has full control over sessions</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Doesn't scale well across multiple servers</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Easy to revoke access instantly</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Less suitable for mobile apps and APIs</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Works well for traditional web apps</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Vulnerable to CSRF attacks if not properly secured</td></tr></tbody></table></div><h2 style="font-size:1.5rem;font-weight:bold;margin-top:2rem;margin-bottom:0.75rem;padding-bottom:0.25rem">üéüÔ∏è What Is JWT (JSON Web Token)?</h2><p style="margin-bottom:1rem;line-height:1.7"><strong>JWT</strong> is a <strong>stateless</strong> authentication method where user information is encoded in a token that the client stores and sends with each request.</p><p style="margin-bottom:1rem;line-height:1.7">A JWT contains three parts:</p><ul style="padding-left:1.5rem;margin-bottom:1.5rem;list-style-type:disc"><li style="margin-bottom:0.5rem"><strong>Header</strong>: Token type and signing algorithm</li><li style="margin-bottom:0.5rem"><strong>Payload</strong>: User data and claims</li><li style="margin-bottom:0.5rem"><strong>Signature</strong>: Verification signature</li></ul><div style="margin-bottom:1.5rem;margin-top:1.5rem"><pre style="color:#d4d4d4;font-size:0.9rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem;background-color:#1E1E1E"><code class="language-typescript" style="white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6a9955">// Server-side JWT creation</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> jwt </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#569CD6">require</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;jsonwebtoken&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">post</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/login&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">,</span><span> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#569CD6">const</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span> username</span><span class="token" style="color:#d4d4d4">,</span><span> password </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">body</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  </span><span class="token" style="color:#c586c0">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#dcdcaa">isValidUser</span><span class="token" style="color:#d4d4d4">(</span><span>username</span><span class="token" style="color:#d4d4d4">,</span><span> password</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#6a9955">// Create JWT token</span><span>
</span><span>    </span><span class="token" style="color:#569CD6">const</span><span> token </span><span class="token" style="color:#d4d4d4">=</span><span> jwt</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">sign</span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>        userId</span><span class="token" style="color:#d4d4d4">:</span><span> user</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">id</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>        username</span><span class="token" style="color:#d4d4d4">:</span><span> user</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">username</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      process</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">env</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#9cdcfe">JWT_SECRET</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      </span><span class="token" style="color:#d4d4d4">{</span><span> expiresIn</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;24h&#x27;</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>    res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">json</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> token </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// JWT verification middleware</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> </span><span class="token function-variable" style="color:#dcdcaa">authenticateToken</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">,</span><span> res</span><span class="token" style="color:#d4d4d4">,</span><span> next</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#569CD6">const</span><span> authHeader </span><span class="token" style="color:#d4d4d4">=</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">headers</span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#ce9178">&#x27;authorization&#x27;</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#569CD6">const</span><span> token </span><span class="token" style="color:#d4d4d4">=</span><span> authHeader </span><span class="token" style="color:#d4d4d4">&amp;&amp;</span><span> authHeader</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">split</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27; &#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">[</span><span class="token" style="color:#b5cea8">1</span><span class="token" style="color:#d4d4d4">]</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  </span><span class="token" style="color:#c586c0">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">!</span><span>token</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#c586c0">return</span><span> res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">status</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#b5cea8">401</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">json</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> error</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;Access denied&#x27;</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span>
</span>
<span>  jwt</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">verify</span><span class="token" style="color:#d4d4d4">(</span><span>token</span><span class="token" style="color:#d4d4d4">,</span><span> process</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">env</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#9cdcfe">JWT_SECRET</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>err</span><span class="token" style="color:#d4d4d4">,</span><span> user</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    </span><span class="token" style="color:#c586c0">if</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>err</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      </span><span class="token" style="color:#c586c0">return</span><span> res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">status</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#b5cea8">403</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">json</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> error</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;Invalid token&#x27;</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>    req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">user</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> user</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>    </span><span class="token" style="color:#dcdcaa">next</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// Protected route</span><span>
</span><span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">get</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/profile&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> authenticateToken</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">,</span><span> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">json</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> user</span><span class="token" style="color:#d4d4d4">:</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">user</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></code></pre></div><div style="margin-bottom:1.5rem;overflow-x:auto"><table style="width:100%;border-collapse:collapse"><tbody><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Pros</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Cons</td></tr><tr></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Stateless - no server-side storage needed</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Cannot revoke tokens easily before expiration</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Scales well across multiple servers</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Tokens can become large with lots of data</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Perfect for APIs and mobile apps</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Vulnerable if token is compromised</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Contains user data in the token itself</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Requires careful secret key management</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Cross-domain friendly</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none"></td></tr></tbody></table></div><h2 style="font-size:1.5rem;font-weight:bold;margin-top:2rem;margin-bottom:0.75rem;padding-bottom:0.25rem">‚òÅÔ∏è What Is OAuth?</h2><p style="margin-bottom:1rem;line-height:1.7"><strong>OAuth</strong> is an <strong>authorization framework</strong> that lets users grant third-party applications access to their resources without sharing passwords.</p><p style="margin-bottom:1rem;line-height:1.7">OAuth is commonly used for:</p><ul style="padding-left:1.5rem;margin-bottom:1.5rem;list-style-type:disc"><li style="margin-bottom:0.5rem">"Login with Google/Facebook/GitHub"</li><li style="margin-bottom:0.5rem">API access delegation</li><li style="margin-bottom:0.5rem">Third-party app permissions</li></ul><div style="margin-bottom:1.5rem;margin-top:1.5rem"><pre style="color:#d4d4d4;font-size:0.9rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem;background-color:#1E1E1E"><code class="language-typescript" style="white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6a9955">// Step 1: Redirect to OAuth provider</span><span>
</span><span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">get</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/auth/google&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">,</span><span> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#569CD6">const</span><span> googleAuthUrl </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token template-string" style="color:#ce9178">https://accounts.google.com/oauth/authorize?</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span> </span><span class="token" style="color:#d4d4d4">+</span><span>
</span><span>    </span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token template-string" style="color:#ce9178">client_id=</span><span class="token template-string" style="color:#569cd6">${</span><span class="token template-string" style="color:#9cdcfe">process</span><span class="token template-string" style="color:#d4d4d4">.</span><span class="token template-string property-access" style="color:#9cdcfe">env</span><span class="token template-string" style="color:#d4d4d4">.</span><span class="token template-string" style="color:#9cdcfe">GOOGLE_CLIENT_ID</span><span class="token template-string" style="color:#569cd6">}</span><span class="token template-string" style="color:#ce9178">&amp;</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span> </span><span class="token" style="color:#d4d4d4">+</span><span>
</span><span>    </span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token template-string" style="color:#ce9178">redirect_uri=</span><span class="token template-string" style="color:#569cd6">${</span><span class="token template-string" style="color:#9cdcfe">process</span><span class="token template-string" style="color:#d4d4d4">.</span><span class="token template-string property-access" style="color:#9cdcfe">env</span><span class="token template-string" style="color:#d4d4d4">.</span><span class="token template-string" style="color:#9cdcfe">REDIRECT_URI</span><span class="token template-string" style="color:#569cd6">}</span><span class="token template-string" style="color:#ce9178">&amp;</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span> </span><span class="token" style="color:#d4d4d4">+</span><span>
</span><span>    </span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token template-string" style="color:#ce9178">scope=profile email&amp;</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span> </span><span class="token" style="color:#d4d4d4">+</span><span>
</span><span>    </span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token template-string" style="color:#ce9178">response_type=code</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">redirect</span><span class="token" style="color:#d4d4d4">(</span><span>googleAuthUrl</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// Step 2: Handle OAuth callback</span><span>
</span><span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">get</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/auth/google/callback&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#569CD6">async</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">,</span><span> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#569CD6">const</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span> code </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">query</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">// Exchange code for access token</span><span>
</span><span>  </span><span class="token" style="color:#569CD6">const</span><span> tokenResponse </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#c586c0">await</span><span> </span><span class="token" style="color:#dcdcaa">fetch</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;https://oauth2.googleapis.com/token&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    method</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;POST&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    headers</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span> </span><span class="token string-property" style="color:#9cdcfe">&#x27;Content-Type&#x27;</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;application/json&#x27;</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    body</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token known-class-name" style="color:#4ec9b0">JSON</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">stringify</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      client_id</span><span class="token" style="color:#d4d4d4">:</span><span> process</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">env</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#9cdcfe">GOOGLE_CLIENT_ID</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      client_secret</span><span class="token" style="color:#d4d4d4">:</span><span> process</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">env</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#9cdcfe">GOOGLE_CLIENT_SECRET</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      code</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      grant_type</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;authorization_code&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      redirect_uri</span><span class="token" style="color:#d4d4d4">:</span><span> process</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">env</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#9cdcfe">REDIRECT_URI</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  </span><span class="token" style="color:#569CD6">const</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span> access_token </span><span class="token" style="color:#d4d4d4">}</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#c586c0">await</span><span> tokenResponse</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">json</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">// Get user info with access token</span><span>
</span><span>  </span><span class="token" style="color:#569CD6">const</span><span> userResponse </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#c586c0">await</span><span> </span><span class="token" style="color:#dcdcaa">fetch</span><span class="token" style="color:#d4d4d4">(</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token template-string" style="color:#ce9178">https://www.googleapis.com/oauth2/v2/userinfo?access_token=</span><span class="token template-string" style="color:#569cd6">${</span><span class="token template-string" style="color:#9cdcfe">access_token</span><span class="token template-string" style="color:#569cd6">}</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  </span><span class="token" style="color:#569CD6">const</span><span> user </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#c586c0">await</span><span> userResponse</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">json</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">// Create session or JWT for your app</span><span>
</span><span>  req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">session</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">user</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> user</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>  res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">redirect</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/dashboard&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></code></pre></div><div style="margin-bottom:1.5rem;overflow-x:auto"><table style="width:100%;border-collapse:collapse"><tbody><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Pros</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Cons</td></tr><tr></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">No password storage required</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Complex implementation</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Leverages existing user accounts</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Dependent on external providers</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Granular permission scopes</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Requires internet connectivity</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Secure delegation of access</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Additional security considerations</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Industry standard for third-party integration</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">User experience can be inconsistent</td></tr></tbody></table></div><h2 style="font-size:1.5rem;font-weight:bold;margin-top:2rem;margin-bottom:0.75rem;padding-bottom:0.25rem">üîÑ How They Work Together</h2><p style="margin-bottom:1rem;line-height:1.7">These methods aren't mutually exclusive. Many applications combine them:</p><p style="margin-bottom:1rem;line-height:1.7"><strong>OAuth + JWT Example:</strong></p><div style="margin-bottom:1.5rem;margin-top:1.5rem"><pre style="color:#d4d4d4;font-size:0.9rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem;background-color:#1E1E1E"><code class="language-typescript" style="white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6a9955">// After OAuth login, create JWT for your app</span><span>
</span><span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">get</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/auth/google/callback&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#569CD6">async</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">,</span><span> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#6a9955">// ... OAuth flow ...</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">// Create JWT after successful OAuth</span><span>
</span><span>  </span><span class="token" style="color:#569CD6">const</span><span> token </span><span class="token" style="color:#d4d4d4">=</span><span> jwt</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">sign</span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>      userId</span><span class="token" style="color:#d4d4d4">:</span><span> user</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">id</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      email</span><span class="token" style="color:#d4d4d4">:</span><span> user</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">email</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>      provider</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;google&#x27;</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    process</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">env</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#9cdcfe">JWT_SECRET</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    </span><span class="token" style="color:#d4d4d4">{</span><span> expiresIn</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;7d&#x27;</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">json</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span> token</span><span class="token" style="color:#d4d4d4">,</span><span> user </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></code></pre></div><p style="margin-bottom:1rem;line-height:1.7"><strong>OAuth + Sessions Example:</strong></p><div style="margin-bottom:1.5rem;margin-top:1.5rem"><pre style="color:#d4d4d4;font-size:0.9rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem;background-color:#1E1E1E"><code class="language-typescript" style="white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6a9955">// Store OAuth user in session</span><span>
</span><span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">get</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/auth/github/callback&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#569CD6">async</span><span> </span><span class="token" style="color:#d4d4d4">(</span><span>req</span><span class="token" style="color:#d4d4d4">,</span><span> res</span><span class="token" style="color:#d4d4d4">)</span><span> </span><span class="token" style="color:#569CD6">=&gt;</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  </span><span class="token" style="color:#6a9955">// ... OAuth flow ...</span><span>
</span>
<span>  </span><span class="token" style="color:#6a9955">// Store in session after OAuth</span><span>
</span><span>  req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">session</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">user</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    id</span><span class="token" style="color:#d4d4d4">:</span><span> user</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">id</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    username</span><span class="token" style="color:#d4d4d4">:</span><span> user</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">login</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    provider</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;github&#x27;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span>  res</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">redirect</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;/dashboard&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></code></pre></div><p style="margin-bottom:1rem;line-height:1.7">üéØ When to Use Each Method</p><div style="margin-bottom:1.5rem;overflow-x:auto"><table style="width:100%;border-collapse:collapse"><tbody><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Use Case</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Best Method</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Why</td></tr><tr></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Traditional web app</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)"><strong>Sessions</strong></td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Simple, secure, full server control</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">REST API</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)"><strong>JWT</strong></td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Stateless, scalable, mobile-friendly</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Mobile app</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)"><strong>JWT</strong></td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">No cookies, easy token storage</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Microservices</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)"><strong>JWT</strong></td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Stateless, no shared session store</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Third-party login</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)"><strong>OAuth</strong></td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Secure, no password handling</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Social media integration</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)"><strong>OAuth</strong></td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Access user's external data</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Enterprise SSO</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)"><strong>OAuth/SAML</strong></td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Centralized identity management</td></tr></tbody></table></div><h2 style="font-size:1.5rem;font-weight:bold;margin-top:2rem;margin-bottom:0.75rem;padding-bottom:0.25rem">üõ°Ô∏è Security Best Practices</h2><p style="margin-bottom:1rem;line-height:1.7"><strong>For Sessions:</strong></p><div style="margin-bottom:1.5rem;margin-top:1.5rem"><pre style="color:#d4d4d4;font-size:0.9rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem;background-color:#1E1E1E"><code class="language-typescript" style="white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6a9955">// Secure session configuration</span><span>
</span><span>app</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">use</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#dcdcaa">session</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>  secret</span><span class="token" style="color:#d4d4d4">:</span><span> process</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">env</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#9cdcfe">SESSION_SECRET</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  resave</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">false</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  saveUninitialized</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">false</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  cookie</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    secure</span><span class="token" style="color:#d4d4d4">:</span><span> process</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">env</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#9cdcfe">NODE_ENV</span><span> </span><span class="token" style="color:#d4d4d4">===</span><span> </span><span class="token" style="color:#ce9178">&#x27;production&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#6a9955">// HTTPS only</span><span>
</span><span>    httpOnly</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#569cd6">true</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#6a9955">// Prevent XSS</span><span>
</span><span>    maxAge</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#b5cea8">24</span><span> </span><span class="token" style="color:#d4d4d4">*</span><span> </span><span class="token" style="color:#b5cea8">60</span><span> </span><span class="token" style="color:#d4d4d4">*</span><span> </span><span class="token" style="color:#b5cea8">60</span><span> </span><span class="token" style="color:#d4d4d4">*</span><span> </span><span class="token" style="color:#b5cea8">1000</span><span> </span><span class="token" style="color:#6a9955">// 24 hours</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></code></pre></div><p style="margin-bottom:1rem;line-height:1.7"><strong>For JWT:</strong></p><div style="margin-bottom:1.5rem;margin-top:1.5rem"><pre style="color:#d4d4d4;font-size:0.9rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem;background-color:#1E1E1E"><code class="language-typescript" style="white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6a9955">// Secure JWT practices</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> token </span><span class="token" style="color:#d4d4d4">=</span><span> jwt</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">sign</span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>  payload</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  process</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">env</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#9cdcfe">JWT_SECRET</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#6a9955">// Strong secret key</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">{</span><span>
</span><span>    expiresIn</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;15m&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span> </span><span class="token" style="color:#6a9955">// Short expiration</span><span>
</span><span>    issuer</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;your-app&#x27;</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>    audience</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;your-users&#x27;</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#6a9955">// Implement refresh tokens</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> refreshToken </span><span class="token" style="color:#d4d4d4">=</span><span> jwt</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">sign</span><span class="token" style="color:#d4d4d4">(</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">{</span><span> userId</span><span class="token" style="color:#d4d4d4">:</span><span> user</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">id</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  process</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">env</span><span class="token" style="color:#d4d4d4">.</span><span class="token" style="color:#9cdcfe">REFRESH_SECRET</span><span class="token" style="color:#d4d4d4">,</span><span>
</span><span>  </span><span class="token" style="color:#d4d4d4">{</span><span> expiresIn</span><span class="token" style="color:#d4d4d4">:</span><span> </span><span class="token" style="color:#ce9178">&#x27;7d&#x27;</span><span> </span><span class="token" style="color:#d4d4d4">}</span><span>
</span><span></span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></code></pre></div><p style="margin-bottom:1rem;line-height:1.7"><strong>For OAuth:</strong></p><div style="margin-bottom:1.5rem;margin-top:1.5rem"><pre style="color:#d4d4d4;font-size:0.9rem;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1rem;margin:.5em 0;overflow:auto;background:#1e1e1e;border-radius:0.5rem;background-color:#1E1E1E"><code class="language-typescript" style="white-space:pre;color:#9cdcfe;font-size:13px;text-shadow:none;font-family:Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Courier New&quot;, monospace;direction:ltr;text-align:left;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6a9955">// Validate state parameter to prevent CSRF</span><span>
</span><span></span><span class="token" style="color:#569CD6">const</span><span> state </span><span class="token" style="color:#d4d4d4">=</span><span> crypto</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">randomBytes</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#b5cea8">32</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">.</span><span class="token method property-access" style="color:#dcdcaa">toString</span><span class="token" style="color:#d4d4d4">(</span><span class="token" style="color:#ce9178">&#x27;hex&#x27;</span><span class="token" style="color:#d4d4d4">)</span><span class="token" style="color:#d4d4d4">;</span><span>
</span><span>req</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">session</span><span class="token" style="color:#d4d4d4">.</span><span class="token property-access">oauthState</span><span> </span><span class="token" style="color:#d4d4d4">=</span><span> state</span><span class="token" style="color:#d4d4d4">;</span><span>
</span>
<span></span><span class="token" style="color:#569CD6">const</span><span> authUrl </span><span class="token" style="color:#d4d4d4">=</span><span> </span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token template-string" style="color:#569cd6">${</span><span class="token template-string" style="color:#9cdcfe">authEndpoint</span><span class="token template-string" style="color:#569cd6">}</span><span class="token template-string" style="color:#ce9178">?state=</span><span class="token template-string" style="color:#569cd6">${</span><span class="token template-string" style="color:#9cdcfe">state</span><span class="token template-string" style="color:#569cd6">}</span><span class="token template-string" style="color:#ce9178">&amp;...</span><span class="token template-string template-punctuation" style="color:#ce9178">`</span><span class="token" style="color:#d4d4d4">;</span><span>
</span></code></pre></div><p style="margin-bottom:1rem;line-height:1.7">üîß Implementation Checklist</p><p style="margin-bottom:1rem;line-height:1.7"><strong>Sessions:</strong></p><p style="margin-bottom:1rem;line-height:1.7">‚úÖ¬†Configure secure session store (Redis/Database)</p><p style="margin-bottom:1rem;line-height:1.7">‚úÖ¬†Set secure cookie options</p><p style="margin-bottom:1rem;line-height:1.7">‚úÖ¬†Implement CSRF protection</p><p style="margin-bottom:1rem;line-height:1.7">‚úÖ¬†Handle session cleanup/expiration</p><p style="margin-bottom:1rem;line-height:1.7"><strong>JWT:</strong></p><p style="margin-bottom:1rem;line-height:1.7">‚úÖ¬†Use strong secret keys</p><p style="margin-bottom:1rem;line-height:1.7">‚úÖ¬†Implement token refresh mechanism</p><p style="margin-bottom:1rem;line-height:1.7">‚úÖ¬†Set appropriate expiration times</p><p style="margin-bottom:1rem;line-height:1.7">‚úÖ¬†Store tokens securely on client</p><p style="margin-bottom:1rem;line-height:1.7"><strong>OAuth:</strong></p><p style="margin-bottom:1rem;line-height:1.7">‚úÖ¬†Register app with OAuth provider</p><p style="margin-bottom:1rem;line-height:1.7">‚úÖ¬†Implement state parameter validation</p><p style="margin-bottom:1rem;line-height:1.7">‚úÖ¬†Handle error cases and edge scenarios</p><p style="margin-bottom:1rem;line-height:1.7">‚úÖ¬†Secure client secrets</p><h2 style="font-size:1.5rem;font-weight:bold;margin-top:2rem;margin-bottom:0.75rem;padding-bottom:0.25rem">üìä Performance Comparison</h2><div style="margin-bottom:1.5rem;overflow-x:auto"><table style="width:100%;border-collapse:collapse"><tbody><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Method</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Server Load</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Scalability</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Network Overhead</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Complexity</td></tr><tr></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)"><strong>Sessions</strong></td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">High (session storage)</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Limited</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Low</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Low</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)"><strong>JWT</strong></td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Low (stateless)</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Excellent</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Medium</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">Medium</td></tr><tr><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)"><strong>OAuth</strong></td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Variable</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">Good</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:1px solid var(--border)">High</td><td style="padding:0.75rem;border-bottom:1px solid var(--border);border-right:none">High</td></tr></tbody></table></div><h2 style="font-size:1.5rem;font-weight:bold;margin-top:2rem;margin-bottom:0.75rem;padding-bottom:0.25rem">üß† Conclusion</h2><p style="margin-bottom:1rem;line-height:1.7"><strong>Sessions</strong> work best for traditional web apps, <strong>JWT</strong> excels for APIs and mobile apps, and <strong>OAuth</strong> is essential for third-party integrations. Many modern applications combine these methods‚Äîlike using OAuth for login and JWT for API access. Choose based on your specific needs, but always prioritize security regardless of your choice.</p></div></div><div class="post-meta"><div class="post-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar h-4 w-4"><rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect><line x1="16" x2="16" y1="2" y2="6"></line><line x1="8" x2="8" y1="2" y2="6"></line><line x1="3" x2="21" y1="10" y2="10"></line></svg><span>June 9, 2025</span></div><div class="post-tags"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag h-4 w-4"><path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"></path><path d="M7 7h.01"></path></svg><div class="flex gap-2"><span class="post-tag">#<!-- -->authentication</span><span class="post-tag">#<!-- -->JavaScript</span></div></div></div></article></main></div><footer class="footer"><div class="footer-container"><div class="footer-content md:flex-row"><div class="footer-brand md:text-left"><a class="footer-logo" href="/my-blog/">Cami&#x27;s Blog</a><p class="footer-tagline">Personal thoughts and explorations</p></div><div class="social-links"><a href="https://github.com/Arcilac" target="_blank" rel="noopener noreferrer" class="social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github h-5 w-5"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg><span class="sr-only">GitHub</span></a><a href="https://www.linkedin.com/in/camila-arcila-b28347279/" target="_blank" rel="noopener noreferrer" class="social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-linkedin h-5 w-5"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg><span class="sr-only">LinkedIn</span></a><a href="mailto:arcilacamila08@gmail.com" class="social-link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail h-5 w-5"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg><span class="sr-only">Email</span></a></div></div><div class="footer-bottom"><p> <!-- -->Made with <span class="text-red-500">‚ù§</span> by Camila Arcila</p></div></div></footer></div><script src="/my-blog/_next/static/chunks/webpack-e4b2ba0bd574cac0.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/my-blog/_next/static/css/83cc0ea6f102b864.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:HL[\"/my-blog/_next/static/css/a494df4e6249897d.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"4:I[47690,[],\"\"]\n7:I[5613,[],\"\"]\n9:I[31778,[],\"\"]\na:I[70269,[\"250\",\"static/chunks/250-f66e98452b80d3d3.js\",\"185\",\"static/chunks/app/layout-eeb53c07ffb10a3f.js\"],\"ThemeProvider\"]\nb:I[63186,[\"250\",\"static/chunks/250-f66e98452b80d3d3.js\",\"185\",\"static/chunks/app/layout-eeb53c07ffb10a3f.js\"],\"\"]\nc:I[69148,[\"250\",\"static/chunks/250-f66e98452b80d3d3.js\",\"185\",\"static/chunks/app/layout-eeb53c07ffb10a3f.js\"],\"\"]\ne:I[48955,[],\"\"]\n8:[\"slug\",\"authentication-methods\",\"d\"]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/my-blog/_next/static/css/83cc0ea6f102b864.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L4\",null,{\"buildId\":\"XWjWt3qlma3Z2wtK0T4I7\",\"assetPrefix\":\"/my-blog\",\"initialCanonicalUrl\":\"/blog/authentication-methods/\",\"initialTree\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"authentication-methods\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"authentication-methods\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"authentication-methods\",\"d\"],{\"children\":[\"__PAGE__\",{},[\"$L5\",\"$L6\",null]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/my-blog/_next/static/css/a494df4e6249897d.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}]]}],[\"$\",\"body\",null,{\"className\":\"bg-black text-white min-h-screen flex flex-col\",\"children\":[\"$\",\"$La\",null,{\"defaultTheme\":\"dark\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col min-h-screen\",\"children\":[[\"$\",\"$Lb\",null,{}],[\"$\",\"div\",null,{\"className\":\"flex-grow\",\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}],[\"$\",\"$Lc\",null,{}]]}]}]}]]}],null]],\"initialHead\":[false,\"$Ld\"],\"globalErrorComponent\":\"$e\"}]]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Blog\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"A personal blog connected with Notion\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/my-blog/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]]\n5:null\n"])</script><script>self.__next_f.push([1,"f:I[74366,[\"644\",\"static/chunks/644-4de71cea8aeaed79.js\",\"852\",\"static/chunks/852-215445fe88778aae.js\",\"308\",\"static/chunks/app/blog/%5Bslug%5D/page-fab3f594c1476cf4.js\"],\"NotionRenderer\"]\n10:T4ed,"])</script><script>self.__next_f.push([1,"```javascript\n`\n// Step 1: Redirect to OAuth provider\napp.get('/auth/google', (req, res) =\u003e {\n  const googleAuthUrl = `https://accounts.google.com/oauth/authorize?` +\n    `client_id=${process.env.GOOGLE_CLIENT_ID}\u0026` +\n    `redirect_uri=${process.env.REDIRECT_URI}\u0026` +\n    `scope=profile email\u0026` +\n    `response_type=code`;\n\n  res.redirect(googleAuthUrl);\n});\n\n// Step 2: Handle OAuth callback\napp.get('/auth/google/callback', async (req, res) =\u003e {\n  const { code } = req.query;\n\n  // Exchange code for access token\n  const tokenResponse = await fetch('https://oauth2.googleapis.com/token', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({\n      client_id: process.env.GOOGLE_CLIENT_ID,\n      client_secret: process.env.GOOGLE_CLIENT_SECRET,\n      code,\n      grant_type: 'authorization_code',\n      redirect_uri: process.env.REDIRECT_URI\n    })\n  });\n\n  const { access_token } = await tokenResponse.json();\n\n  // Get user info with access token\n  const userResponse = await fetch(`https://www.googleapis.com/oauth2/v2/userinfo?access_token=${access_token}`);\n  const user = await userResponse.json();\n\n  // Create session or JWT for your app\n  req.session.user = user;\n  res.redirect('/dashboard');\n});\n`\n```"])</script><script>self.__next_f.push([1,"6:[\"$\",\"main\",null,{\"className\":\"post-container\",\"children\":[\"$\",\"article\",null,{\"className\":\"post-article\",\"children\":[null,[\"$\",\"h1\",null,{\"className\":\"post-title\",\"children\":\"Authentication Methods: JWT vs Sessions vs OAuth - Complete Guide\"}],[\"$\",\"div\",null,{\"className\":\"post-content\",\"children\":[\"$\",\"$Lf\",null,{\"blocks\":[{\"id\":\"block-0\",\"type\":\"paragraph\",\"content\":\"When building web applications, choosing the right authentication method is crucial for security and user experience. **JWT**, **Sessions**, and **OAuth** are three popular approaches‚Äîbut they solve different problems and work in different ways.\",\"properties\":{}},{\"id\":\"block-1\",\"type\":\"paragraph\",\"content\":\"In this article, we'll explore what each method is, when to use them, and how they compare with practical examples.\",\"properties\":{}},{\"id\":\"block-2\",\"type\":\"heading_2\",\"content\":\"üîê What Is Session-Based Authentication?\",\"properties\":{}},{\"id\":\"block-3\",\"type\":\"paragraph\",\"content\":\"**Session-based authentication** is the traditional approach where the server stores user information and creates a session after login.\",\"properties\":{}},{\"id\":\"block-4\",\"type\":\"paragraph\",\"content\":\"How it works:\",\"properties\":{}},{\"id\":\"block-5\",\"type\":\"bulleted_list_item\",\"content\":\"- User logs in with credentials\",\"properties\":{}},{\"id\":\"block-6\",\"type\":\"bulleted_list_item\",\"content\":\"- Server creates a session and stores it (in memory, database, or cache)\",\"properties\":{}},{\"id\":\"block-7\",\"type\":\"bulleted_list_item\",\"content\":\"- Server sends a session ID to the client via cookies\",\"properties\":{}},{\"id\":\"block-8\",\"type\":\"bulleted_list_item\",\"content\":\"- Client sends the session ID with each request\",\"properties\":{}},{\"id\":\"block-9\",\"type\":\"bulleted_list_item\",\"content\":\"- Server validates the session ID and retrieves user data\",\"properties\":{}},{\"id\":\"block-10\",\"type\":\"paragraph\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-11\",\"type\":\"code\",\"content\":\"```javascript\\n`\\n// Server-side session creation (Node.js/Express)\\napp.post('/login', (req, res) =\u003e {\\n  const { username, password } = req.body;\\n\\n  // Validate credentials\\n  if (isValidUser(username, password)) {\\n    // Create session\\n    req.session.userId = user.id;\\n    req.session.username = user.username;\\n\\n    res.json({ message: 'Login successful' });\\n  }\\n});\\n\\n// Protected route\\napp.get('/profile', (req, res) =\u003e {\\n  if (req.session.userId) {\\n    res.json({ user: req.session.username });\\n  } else {\\n    res.status(401).json({ error: 'Not authenticated' });\\n  }\\n});\\n`\\n```\",\"properties\":{\"language\":\"$undefined\"}},{\"id\":\"block-12\",\"type\":\"paragraph\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-13\",\"type\":\"table\",\"content\":\"| Pros                                  | Cons                                                     |\\n| ------------------------------------- | -------------------------------------------------------- |\\n| Simple to implement and understand    | Server must store session data (memory/storage overhead) |\\n| Server has full control over sessions | Doesn't scale well across multiple servers               |\\n| Easy to revoke access instantly       | Less suitable for mobile apps and APIs                   |\\n| Works well for traditional web apps   | Vulnerable to CSRF attacks if not properly secured       |\",\"properties\":{}},{\"id\":\"block-13-0\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-13-1\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-13-2\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-13-3\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-13-4\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-14\",\"type\":\"heading_2\",\"content\":\"üéüÔ∏è What Is JWT (JSON Web Token)?\",\"properties\":{}},{\"id\":\"block-15\",\"type\":\"paragraph\",\"content\":\"**JWT** is a **stateless** authentication method where user information is encoded in a token that the client stores and sends with each request.\",\"properties\":{}},{\"id\":\"block-16\",\"type\":\"paragraph\",\"content\":\"A JWT contains three parts:\",\"properties\":{}},{\"id\":\"block-17\",\"type\":\"bulleted_list_item\",\"content\":\"- **Header**: Token type and signing algorithm\",\"properties\":{}},{\"id\":\"block-18\",\"type\":\"bulleted_list_item\",\"content\":\"- **Payload**: User data and claims\",\"properties\":{}},{\"id\":\"block-19\",\"type\":\"bulleted_list_item\",\"content\":\"- **Signature**: Verification signature\",\"properties\":{}},{\"id\":\"block-20\",\"type\":\"paragraph\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-21\",\"type\":\"code\",\"content\":\"```javascript\\n`\\n// Server-side JWT creation\\nconst jwt = require('jsonwebtoken');\\n\\napp.post('/login', (req, res) =\u003e {\\n  const { username, password } = req.body;\\n\\n  if (isValidUser(username, password)) {\\n    // Create JWT token\\n    const token = jwt.sign(\\n      {\\n        userId: user.id,\\n        username: user.username\\n      },\\n      process.env.JWT_SECRET,\\n      { expiresIn: '24h' }\\n    );\\n\\n    res.json({ token });\\n  }\\n});\\n\\n// JWT verification middleware\\nconst authenticateToken = (req, res, next) =\u003e {\\n  const authHeader = req.headers['authorization'];\\n  const token = authHeader \u0026\u0026 authHeader.split(' ')[1];\\n\\n  if (!token) {\\n    return res.status(401).json({ error: 'Access denied' });\\n  }\\n\\n  jwt.verify(token, process.env.JWT_SECRET, (err, user) =\u003e {\\n    if (err) {\\n      return res.status(403).json({ error: 'Invalid token' });\\n    }\\n    req.user = user;\\n    next();\\n  });\\n};\\n\\n// Protected route\\napp.get('/profile', authenticateToken, (req, res) =\u003e {\\n  res.json({ user: req.user });\\n});\\n`\\n```\",\"properties\":{\"language\":\"$undefined\"}},{\"id\":\"block-22\",\"type\":\"paragraph\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-23\",\"type\":\"table\",\"content\":\"| Pros                                      | Cons                                          |\\n| ----------------------------------------- | --------------------------------------------- |\\n| Stateless - no server-side storage needed | Cannot revoke tokens easily before expiration |\\n| Scales well across multiple servers       | Tokens can become large with lots of data     |\\n| Perfect for APIs and mobile apps          | Vulnerable if token is compromised            |\\n| Contains user data in the token itself    | Requires careful secret key management        |\\n| Cross-domain friendly                     |                                               |\",\"properties\":{}},{\"id\":\"block-23-0\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-23-1\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-23-2\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-23-3\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-23-4\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-23-5\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-24\",\"type\":\"heading_2\",\"content\":\"‚òÅÔ∏è What Is OAuth?\",\"properties\":{}},{\"id\":\"block-25\",\"type\":\"paragraph\",\"content\":\"**OAuth** is an **authorization framework** that lets users grant third-party applications access to their resources without sharing passwords.\",\"properties\":{}},{\"id\":\"block-26\",\"type\":\"paragraph\",\"content\":\"OAuth is commonly used for:\",\"properties\":{}},{\"id\":\"block-27\",\"type\":\"bulleted_list_item\",\"content\":\"- \\\"Login with Google/Facebook/GitHub\\\"\",\"properties\":{}},{\"id\":\"block-28\",\"type\":\"bulleted_list_item\",\"content\":\"- API access delegation\",\"properties\":{}},{\"id\":\"block-29\",\"type\":\"bulleted_list_item\",\"content\":\"- Third-party app permissions\",\"properties\":{}},{\"id\":\"block-30\",\"type\":\"paragraph\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-31\",\"type\":\"code\",\"content\":\"$10\",\"properties\":{\"language\":\"$undefined\"}},{\"id\":\"block-32\",\"type\":\"paragraph\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-33\",\"type\":\"table\",\"content\":\"| Pros                                          | Cons                                |\\n| --------------------------------------------- | ----------------------------------- |\\n| No password storage required                  | Complex implementation              |\\n| Leverages existing user accounts              | Dependent on external providers     |\\n| Granular permission scopes                    | Requires internet connectivity      |\\n| Secure delegation of access                   | Additional security considerations  |\\n| Industry standard for third-party integration | User experience can be inconsistent |\",\"properties\":{}},{\"id\":\"block-33-0\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-33-1\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-33-2\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-33-3\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-33-4\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-33-5\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-34\",\"type\":\"heading_2\",\"content\":\"üîÑ How They Work Together\",\"properties\":{}},{\"id\":\"block-35\",\"type\":\"paragraph\",\"content\":\"These methods aren't mutually exclusive. Many applications combine them:\",\"properties\":{}},{\"id\":\"block-36\",\"type\":\"paragraph\",\"content\":\"**OAuth + JWT Example:**\",\"properties\":{}},{\"id\":\"block-37\",\"type\":\"code\",\"content\":\"```javascript\\n`\\n// After OAuth login, create JWT for your app\\napp.get('/auth/google/callback', async (req, res) =\u003e {\\n  // ... OAuth flow ...\\n\\n  // Create JWT after successful OAuth\\n  const token = jwt.sign(\\n    {\\n      userId: user.id,\\n      email: user.email,\\n      provider: 'google'\\n    },\\n    process.env.JWT_SECRET,\\n    { expiresIn: '7d' }\\n  );\\n\\n  res.json({ token, user });\\n});\\n`\\n```\",\"properties\":{\"language\":\"$undefined\"}},{\"id\":\"block-38\",\"type\":\"paragraph\",\"content\":\"**OAuth + Sessions Example:**\",\"properties\":{}},{\"id\":\"block-39\",\"type\":\"code\",\"content\":\"```javascript\\n`\\n// Store OAuth user in session\\napp.get('/auth/github/callback', async (req, res) =\u003e {\\n  // ... OAuth flow ...\\n\\n  // Store in session after OAuth\\n  req.session.user = {\\n    id: user.id,\\n    username: user.login,\\n    provider: 'github'\\n  };\\n\\n  res.redirect('/dashboard');\\n});\\n`\\n```\",\"properties\":{\"language\":\"$undefined\"}},{\"id\":\"block-40\",\"type\":\"paragraph\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-41\",\"type\":\"paragraph\",\"content\":\"üéØ When to Use Each Method\",\"properties\":{}},{\"id\":\"block-42\",\"type\":\"table\",\"content\":\"| Use Case                 | Best Method    | Why                                  |\\n| ------------------------ | -------------- | ------------------------------------ |\\n| Traditional web app      | **Sessions**   | Simple, secure, full server control  |\\n| REST API                 | **JWT**        | Stateless, scalable, mobile-friendly |\\n| Mobile app               | **JWT**        | No cookies, easy token storage       |\\n| Microservices            | **JWT**        | Stateless, no shared session store   |\\n| Third-party login        | **OAuth**      | Secure, no password handling         |\\n| Social media integration | **OAuth**      | Access user's external data          |\\n| Enterprise SSO           | **OAuth/SAML** | Centralized identity management      |\",\"properties\":{}},{\"id\":\"block-42-0\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-42-1\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-42-2\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-42-3\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-42-4\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-42-5\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-42-6\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-42-7\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-43\",\"type\":\"heading_2\",\"content\":\"üõ°Ô∏è Security Best Practices\",\"properties\":{}},{\"id\":\"block-44\",\"type\":\"paragraph\",\"content\":\"**For Sessions:**\",\"properties\":{}},{\"id\":\"block-45\",\"type\":\"code\",\"content\":\"```javascript\\n`\\n// Secure session configuration\\napp.use(session({\\n  secret: process.env.SESSION_SECRET,\\n  resave: false,\\n  saveUninitialized: false,\\n  cookie: {\\n    secure: process.env.NODE_ENV === 'production', // HTTPS only\\n    httpOnly: true, // Prevent XSS\\n    maxAge: 24 * 60 * 60 * 1000 // 24 hours\\n  }\\n}));\\n`\\n```\",\"properties\":{\"language\":\"$undefined\"}},{\"id\":\"block-46\",\"type\":\"paragraph\",\"content\":\"**For JWT:**\",\"properties\":{}},{\"id\":\"block-47\",\"type\":\"code\",\"content\":\"```javascript\\n`\\n// Secure JWT practices\\nconst token = jwt.sign(\\n  payload,\\n  process.env.JWT_SECRET, // Strong secret key\\n  {\\n    expiresIn: '15m', // Short expiration\\n    issuer: 'your-app',\\n    audience: 'your-users'\\n  }\\n);\\n\\n// Implement refresh tokens\\nconst refreshToken = jwt.sign(\\n  { userId: user.id },\\n  process.env.REFRESH_SECRET,\\n  { expiresIn: '7d' }\\n);\\n`\\n```\",\"properties\":{\"language\":\"$undefined\"}},{\"id\":\"block-48\",\"type\":\"paragraph\",\"content\":\"**For OAuth:**\",\"properties\":{}},{\"id\":\"block-49\",\"type\":\"code\",\"content\":\"```javascript\\n`\\n// Validate state parameter to prevent CSRF\\nconst state = crypto.randomBytes(32).toString('hex');\\nreq.session.oauthState = state;\\n\\nconst authUrl = `${authEndpoint}?state=${state}\u0026...`;\\n`\\n```\",\"properties\":{\"language\":\"$undefined\"}},{\"id\":\"block-50\",\"type\":\"paragraph\",\"content\":\"üîß Implementation Checklist\",\"properties\":{}},{\"id\":\"block-51\",\"type\":\"paragraph\",\"content\":\"**Sessions:**\",\"properties\":{}},{\"id\":\"block-52\",\"type\":\"paragraph\",\"content\":\"‚úÖ¬†Configure secure session store (Redis/Database)\",\"properties\":{}},{\"id\":\"block-53\",\"type\":\"paragraph\",\"content\":\"‚úÖ¬†Set secure cookie options\",\"properties\":{}},{\"id\":\"block-54\",\"type\":\"paragraph\",\"content\":\"‚úÖ¬†Implement CSRF protection\",\"properties\":{}},{\"id\":\"block-55\",\"type\":\"paragraph\",\"content\":\"‚úÖ¬†Handle session cleanup/expiration\",\"properties\":{}},{\"id\":\"block-56\",\"type\":\"paragraph\",\"content\":\"**JWT:**\",\"properties\":{}},{\"id\":\"block-57\",\"type\":\"paragraph\",\"content\":\"‚úÖ¬†Use strong secret keys\",\"properties\":{}},{\"id\":\"block-58\",\"type\":\"paragraph\",\"content\":\"‚úÖ¬†Implement token refresh mechanism\",\"properties\":{}},{\"id\":\"block-59\",\"type\":\"paragraph\",\"content\":\"‚úÖ¬†Set appropriate expiration times\",\"properties\":{}},{\"id\":\"block-60\",\"type\":\"paragraph\",\"content\":\"‚úÖ¬†Store tokens securely on client\",\"properties\":{}},{\"id\":\"block-61\",\"type\":\"paragraph\",\"content\":\"**OAuth:**\",\"properties\":{}},{\"id\":\"block-62\",\"type\":\"paragraph\",\"content\":\"‚úÖ¬†Register app with OAuth provider\",\"properties\":{}},{\"id\":\"block-63\",\"type\":\"paragraph\",\"content\":\"‚úÖ¬†Implement state parameter validation\",\"properties\":{}},{\"id\":\"block-64\",\"type\":\"paragraph\",\"content\":\"‚úÖ¬†Handle error cases and edge scenarios\",\"properties\":{}},{\"id\":\"block-65\",\"type\":\"paragraph\",\"content\":\"‚úÖ¬†Secure client secrets\",\"properties\":{}},{\"id\":\"block-66\",\"type\":\"heading_2\",\"content\":\"üìä Performance Comparison\",\"properties\":{}},{\"id\":\"block-67\",\"type\":\"table\",\"content\":\"| Method       | Server Load            | Scalability | Network Overhead | Complexity |\\n| ------------ | ---------------------- | ----------- | ---------------- | ---------- |\\n| **Sessions** | High (session storage) | Limited     | Low              | Low        |\\n| **JWT**      | Low (stateless)        | Excellent   | Medium           | Medium     |\\n| **OAuth**    | Variable               | Good        | High             | High       |\",\"properties\":{}},{\"id\":\"block-67-0\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-67-1\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-67-2\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-67-3\",\"type\":\"table_row\",\"content\":\"\",\"properties\":{}},{\"id\":\"block-68\",\"type\":\"heading_2\",\"content\":\"üß† Conclusion\",\"properties\":{}},{\"id\":\"block-69\",\"type\":\"paragraph\",\"content\":\"**Sessions** work best for traditional web apps, **JWT** excels for APIs and mobile apps, and **OAuth** is essential for third-party integrations. Many modern applications combine these methods‚Äîlike using OAuth for login and JWT for API access. Choose based on your specific needs, but always prioritize security regardless of your choice.\",\"properties\":{}}]}]}],[\"$\",\"div\",null,{\"className\":\"post-meta\",\"children\":[[\"$\",\"div\",null,{\"className\":\"post-date\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-calendar h-4 w-4\",\"children\":[[\"$\",\"rect\",\"eu3xkr\",{\"width\":\"18\",\"height\":\"18\",\"x\":\"3\",\"y\":\"4\",\"rx\":\"2\",\"ry\":\"2\"}],[\"$\",\"line\",\"m3sa8f\",{\"x1\":\"16\",\"x2\":\"16\",\"y1\":\"2\",\"y2\":\"6\"}],[\"$\",\"line\",\"18kwsl\",{\"x1\":\"8\",\"x2\":\"8\",\"y1\":\"2\",\"y2\":\"6\"}],[\"$\",\"line\",\"xt86sb\",{\"x1\":\"3\",\"x2\":\"21\",\"y1\":\"10\",\"y2\":\"10\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"June 9, 2025\"}]]}],[\"$\",\"div\",null,{\"className\":\"post-tags\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-tag h-4 w-4\",\"children\":[[\"$\",\"path\",\"14b2ls\",{\"d\":\"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z\"}],[\"$\",\"path\",\"7u93v4\",{\"d\":\"M7 7h.01\"}],\"$undefined\"]}],[\"$\",\"div\",null,{\"className\":\"flex gap-2\",\"children\":[[\"$\",\"span\",\"authentication\",{\"className\":\"post-tag\",\"children\":[\"#\",\"authentication\"]}],[\"$\",\"span\",\"JavaScript\",{\"className\":\"post-tag\",\"children\":[\"#\",\"JavaScript\"]}]]}]]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,""])</script></body></html>